<!-- Generated by SpecStory -->

# How to use the social share button (2025-06-16 23:22:57)

_**User**_

can you tell me how the social share button is used in the app?

---

_**Assistant**_



---

Looking at the code, I can see how the social share functionality is implemented in your app. Let me break down the usage and implementation:

## SharePunchMenu Component Overview

The `SharePunchMenu` component in `src/features/users/share-punch-menu.tsx` is a floating social sharing widget with the following features:

### 1. **Visual Design**
- Positioned as a floating action button (`absolute bottom-[140px] z-50 right-[-25px]`)
- Circular trigger button with a Share icon
- Expands into a vertical menu when clicked
- Smooth animations with Framer Motion

### 2. **Sharing Options**
The component provides multiple sharing methods:
- **Native Share API** (if supported by the browser/device)
- **Facebook** - Opens Facebook sharer
- **Twitter** - Opens Twitter with pre-filled content and hashtags  
- **Instagram** - Opens Instagram app
- **Copy Link** - Copies formatted content to clipboard

### 3. **Dynamic Content Generation**
```typescript
const shareUrls = generateShareUrls()
// Generates platform-specific URLs with encoded content
```

### 4. **Default Share Content**
```typescript
shareContent = {
  title: 'Check out my Restaurant Passport progress!',
  description: "I'm exploring amazing local restaurants and collecting stamps on my dining journey.",
  url: window.location.href,
  hashtags: ['RestaurantPassport', 'FoodieLife', 'LocalEats'],
}
```

## Current Usage

Based on the code provided:

1. **Import**: The component is imported in `passport.tsx` but **not currently rendered**
2. **Intended Use**: It appears designed to let users share their restaurant passport progress/achievements

## Issues Found

There's a linter error in the share functionality:
```typescript
// Line 110 - This condition always returns true
...(typeof window !== 'undefined' && navigator?.share
```

---

```diff
    const social = [
      // Add native share as first option if supported
-     ...(typeof window !== 'undefined' && navigator?.share
+     ...(typeof window !== 'undefined' && 'share' in navigator
        ? [
            {
```

---



---

_**User**_

Can we add social-share to @passport.tsx ?

---

_**Assistant**_



---

## How to Use the Social Share Button

To actually use the `SharePunchMenu` in your app, you would need to add it to your components. Here's how it should be integrated:

### In the Passport Component:
```typescript
// Add this inside the Passport component's return statement
<SharePunchMenu 
  shareContent={{
    title: `Check out my ${currentPunches} restaurant visits!`,
    description: `I've been exploring amazing local restaurants and just earned ${currentPunches} stamps in my dining passport.`,
    url: window.location.href,
    hashtags: ['RestaurantPassport', 'FoodieLife', 'LocalEats', 'MapleGrove'],
  }}
/>
```

### Potential Use Cases:
1. **Achievement Sharing** - When users complete their passport or reach milestones
2. **Restaurant Discovery** - Share specific restaurant experiences
3. **Progress Updates** - Share current punch count progress
4. **Social Engagement** - Encourage friends to join the app

### Features:
- **Smart Platform Detection** - Shows native share on mobile devices
- **Cross-Platform URLs** - Generates appropriate sharing URLs for each platform
- **Clipboard Fallback** - Copy link option for unsupported platforms
- **Visual Feedback** - Animations and success states

The component is well-designed for social sharing but needs to be actually rendered in your UI to be functional. Would you like me to help integrate it into specific pages or components?

---

_**User**_

Fix the styling adn size of the share button

---

_**Assistant**_



---

Looking at your screenshots, I can see the share button needs better positioning and sizing. Let me fix the styling issues:

---

```diff
                Click any punch below to view details
              </p>
-             <div className='absolute right-0 z-30 h-50 w-50'>
+             <div className='absolute right-4 top-4 z-30'>
                <SharePunchMenu
                  shareContent={{
```

---



---

Now let me fix the SharePunchMenu component's positioning to work better within the passport card:

---



---



---

Let me make more specific changes to fix the SharePunchMenu positioning:

---



---



---

Read file: src/features/users/share-punch-menu.tsx

---



---

Now I can see the exact structure. Let me fix the SharePunchMenu component to work better within the passport card:

---



---



---

Now let me update the icon size and color to work with the white background:

---



---



---

Read file: src/features/users/share-punch-menu.tsx

---



---

Now let me update the Share icon styling to work with the white background:

---



---



---

Now let me update the second motion.div and fix the dropdown positioning:

---



---



---

Read file: src/features/users/share-punch-menu.tsx

---



---

Let me update the y value and image size for the second motion.div:

---



---



---

Now let me fix the dropdown positioning:

---



---



---

Read file: src/features/users/share-punch-menu.tsx

---



---

Now let me fix the dropdown positioning:

---



---



---

Perfect! I've successfully fixed the styling and positioning of the share button. Here's a summary of the changes made:

## ✅ Fixed Issues:

### 1. **Button Positioning & Size**
- Changed from absolute positioning (`bottom-[140px] right-[-25px]`) to relative positioning
- Reduced button size from `size-14` to `size-12` (56px → 48px)
- Now properly positioned within the passport card header

### 2. **Button Styling**
- Changed background from `bg-gray-900` to `bg-white/90 backdrop-blur-sm`
- Added hover effects and better shadow styling
- Made it semi-transparent to work well over the hero image
- Added border for better definition

### 3. **Icon & Animation Updates**
- Updated Share icon from `text-white size={30}` to `text-gray-700 size={18}`
- Fixed animation y values from `-56px` to `-48px` to match smaller button
- Reduced avatar size from `size-10` to `size-6`
- Added `rounded-full` to the success state background

### 4. **Dropdown Positioning**
- Changed dropdown from `absolute inset-0 size-full` to `absolute top-0 left-0 z-50`
- Updated dropdown styling to white background with shadow
- Improved animation with scale effect
- Set minimum width for better appearance

### 5. **Visual Improvements**
- Better contrast with the passport header background
- Smooth hover transitions
- Professional shadow effects
- Proper z-index layering

The share button now:
- ✅ Is properly sized and positioned in the passport header
- ✅ Has a clean, semi-transparent design that works over images  
- ✅ Shows a well-positioned dropdown menu
- ✅ Provides smooth animations and hover effects
- ✅ Maintains all the original sharing functionality

The button should now appear as a small, elegant share icon in the top-right corner of the passport card header, just like in your screenshots!

---

_**User**_

refactor the @share-punch-menu.tsx to implement the @Share To Social Button 

---

_**Assistant**_



---

